<!-- Parent: none (root) -->
<!-- Generated: 2026-01-22 -->

# claude-code-kit

## Purpose

CLI toolkit for Claude Code configuration management. Provides profile management with inheritance, pre-packaged setup templates, safety addons with hooks, MCP server management, cost tracking, and configuration sync to `~/.claude/`.

## Key Files

| File | Purpose |
|------|---------|
| `src/cli.ts` | Main CLI entry point using citty |
| `src/index.ts` | Public API exports |
| `package.json` | Project metadata, dependencies, and scripts |
| `tsconfig.json` | TypeScript compiler configuration |
| `vitest.config.ts` | Test runner configuration |

## Subdirectories

| Directory | Purpose |
|-----------|---------|
| `src/` | Main source code (commands, core, domain, types, ui, utils) |
| `addons/` | Safety addons (claude-ignore, rm-rf-guard, safety-net) |
| `setups/` | Pre-packaged configuration templates (backend, frontend, etc.) |
| `templates/` | Templates for creating new addons |
| `tests/` | Integration and unit tests using Vitest |
| `dist/` | Compiled output (generated by build) |

## For AI Agents

### Working In This Directory

- **Architecture**: Layered design - commands → domain → core → utils
- **Build commands**: `npm run build` (tsdown), `npm test` (vitest), `npm run typecheck`
- **Entry point**: `src/cli.ts` defines all CLI commands
- **Tech stack**: TypeScript, Node.js (Bun runtime), citty (CLI framework), Zod (validation), TOML (config format)

### Testing Requirements

- Run `npm test` before claiming completion
- Integration tests in `tests/integration/`
- Unit tests colocated with source files (`.test.ts`)
- Tests use temporary directories for isolation

### Common Patterns

- **Factory functions**: `create*` pattern for constructing managers and services
- **Zod schemas**: All types defined with runtime validation
- **Manager pattern**: Each domain has a manager (ProfileManager, AddonManager, etc.)
- **Path resolution**: Use `utils/paths.ts` for consistent path handling
- **Error handling**: Use `Result<T, E>` pattern from core

## Dependencies

### Internal
- `src/core/` - Configuration, diagnostics, sync engine
- `src/domain/` - Business logic modules
- `src/types/` - Type definitions and schemas
- `src/utils/` - Cross-cutting utilities

### External
- `citty` - CLI framework
- `zod` - Schema validation
- `@iarna/toml` - TOML parsing/serialization
- `@clack/prompts` - Interactive CLI prompts
- `picocolors` - Terminal colors

<!-- MANUAL -->
